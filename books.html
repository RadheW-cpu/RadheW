<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Books - Radhe W.</title>
    <meta name="description" content="Explore the published works of Radhe W., exploring the intersection of allegory, philosophy, and human experience through fiction." />
    <meta name="author" content="Radhe W." />
    <meta name="keywords" content="books, allegory, fiction, Radhe W, novels" />

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root{
            /* Light theme */
            --background: #F5F5F5;
            --background-rgb: 245,245,245;
            --foreground: #1E1E1E;
            --card: #FAFAFA;
            --card-foreground: #1E1E1E;
            --primary: #1E1E1E;
            --primary-rgb: 30,30,30;
            --primary-foreground: #F5F5F5;
            --secondary: #E6E6E6;
            --secondary-foreground: #1E1E1E;
            --muted: #EBEBEB;
            --muted-foreground: #737373;
            --accent: #E0E0E0;
            --accent-foreground: #1E1E1E;
            --border: #D4D4D4;
            --highlight: #007ACC;
            --code-bg: #FAFAFA;
            --code-foreground: #333333;
        }

        [data-theme="dark"]{
            --background: #1E1E1E;
            --background-rgb: 30,30,30;
            --foreground: #D4D4D4;
            --card: #242424;
            --card-foreground: #D4D4D4;
            --primary: #D4D4D4;
            --primary-rgb: 212,212,212;
            --primary-foreground: #1E1E1E;
            --secondary: #333333;
            --secondary-foreground: #D4D4D4;
            --muted: #2E2E2E;
            --muted-foreground: #999999;
            --accent: #383838;
            --accent-foreground: #D4D4D4;
            --border: #404040;
            --highlight: #4FC3F7;
            --code-bg: #141414;
            --code-foreground: #CCCCCC;
        }

        *{box-sizing:border-box;margin:0;padding:0}
        body{
            font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            background:var(--background);
            color:var(--foreground);
            line-height:1.6;
            transition:background-color .25s ease, color .25s ease;
        }

        .font-mono{font-family:'JetBrains Mono', monospace;}

        /* Navigation */
        .nav{
            position:fixed;left:0;right:0;top:0;z-index:60;
            background: rgba(var(--background-rgb), 0.85);
            backdrop-filter: blur(8px);
            border-bottom:1px solid var(--border);
        }
        .nav-container{max-width:1100px;margin:0 auto;padding:1rem 1.25rem;display:flex;align-items:center;justify-content:space-between;gap:1rem}
        .nav-logo{font-family:'JetBrains Mono';font-weight:600;text-decoration:none;color:var(--foreground)}
        .nav-menu{display:flex;gap:1rem;align-items:center}
        .nav-link{color:var(--foreground);text-decoration:none;font-weight:500;position:relative;padding:0.25rem 0.5rem;border-radius:6px}
        .nav-link:hover{color:var(--highlight)}
        .nav-link.active{color:var(--highlight);}
        .theme-toggle{background:none;border:0;padding:0.4rem;border-radius:6px;cursor:pointer;color:var(--foreground)}

        /* Layout */
        .main { padding-top:6rem }
        .container{max-width:1100px;margin:0 auto;padding:0 1.25rem}

        /* Hero */
        .hero{ text-align:center;padding:3rem 0 2rem }
        .hero-title{font-size:2.75rem;font-weight:700;margin-bottom:0.75rem}
        .hero-description{max-width:36rem;margin:0 auto;color:var(--muted-foreground);font-size:1.05rem}

        /* Grid */
        .books-section{padding:1.5rem 0 4rem}
        .books-grid{display:grid;gap:1.25rem;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}

        .book-card{
            background:var(--card);border:1px solid var(--border);border-radius:10px;overflow:hidden;cursor:pointer;transition:transform .18s ease, box-shadow .18s ease;
            display:flex;flex-direction:column;height:100%;
        }
        .book-card:focus{outline:2px solid var(--highlight);outline-offset:2px}
        .book-card:hover{transform:translateY(-6px);box-shadow:0 10px 30px rgba(0,0,0,0.08)}

        .book-cover{aspect-ratio:2/3;background:linear-gradient(135deg,var(--primary),var(--highlight));opacity:0.08;display:flex;align-items:center;justify-content:center;padding:1rem}
        .book-cover-content{text-align:center;padding:0.75rem}
        .book-initials{width:56px;height:56px;border-radius:8px;display:flex;align-items:center;justify-content:center;margin:0 auto 0.75rem;font-weight:700;font-family:'JetBrains Mono'}
        .book-title{font-weight:700;font-size:1.05rem;margin-bottom:0.25rem}
        .book-year{font-size:0.9rem;color:var(--muted-foreground)}

        .book-info{padding:0.9rem 1rem;display:flex;flex-direction:column;gap:0.5rem;flex:1}
        .book-genre{font-size:0.9rem;color:var(--muted-foreground)}
        .book-rating{display:flex;align-items:center;gap:0.35rem}

        .star{width:16px;height:16px;fill:#FFC107;color:#FFC107}

        /* Modal */
        .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);backdrop-filter:blur(4px);z-index:120;align-items:center;justify-content:center;padding:1rem}
        .modal.active{display:flex}
        .modal-content{background:var(--card);border-radius:12px;max-width:720px;width:100%;max-height:92vh;overflow:auto;box-shadow:0 30px 60px rgba(0,0,0,0.25);animation:modalIn .25s ease-out}
        @keyframes modalIn{from{opacity:0;transform:translateY(8px) scale(.98)}to{opacity:1;transform:none}}

        .modal-inner{display:flex;flex-direction:column;padding:1.25rem;gap:1rem}
        .modal-book-cover{width:140px;aspect-ratio:2/3;background:linear-gradient(135deg,var(--primary),var(--highlight));opacity:0.08;border-radius:8px;display:flex;align-items:center;justify-content:center;margin:0 auto}
        .modal-title{font-size:1.5rem;font-weight:700}
        .modal-author{color:var(--muted-foreground)}

        .modal-details{padding:0.5rem 0;}
        .modal-header{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;margin-bottom:0.75rem}
        .close-button{background:none;border:0;padding:0.35rem;border-radius:8px;cursor:pointer;color:var(--foreground)}
        .book-meta{display:flex;gap:1rem;flex-wrap:wrap;font-size:0.95rem;color:var(--muted-foreground);margin-bottom:0.75rem}
        .book-description{line-height:1.7;margin-bottom:1rem;color:var(--foreground)}

        .book-actions{display:flex;gap:0.75rem;flex-wrap:wrap}
        .btn{display:inline-flex;align-items:center;padding:0.6rem 1rem;border-radius:8px;border:0;cursor:pointer;text-decoration:none;font-weight:600}
        .btn-primary{background:var(--primary);color:var(--primary-foreground)}
        .btn-primary:hover{transform:translateY(-2px)}

        /* Responsive */
        @media (max-width:640px){.hero-title{font-size:1.8rem}.modal-content{max-width:92vw}}
    </style>
</head>
<body>
<nav class="nav" role="navigation" aria-label="Main navigation">
    <div class="nav-container">
        <a class="nav-logo" href="index.html">Radhe W.</a>
        <div class="nav-menu">
            <a class="nav-link" href="index.html">Home</a>
            <a class="nav-link active" href="books.html">Books</a>
            <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                <svg class="icon theme-icon-light" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                <svg class="icon theme-icon-dark" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" style="display:none"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            </button>
        </div>
    </div>
</nav>

<main class="main">
    <div class="container">
        <section class="hero">
            <h1 class="hero-title">Books</h1>
            <p class="hero-description">Allegorical tales that explore life, identity, and meaning through surreal and poetic storytelling.</p>
        </section>

        <section class="books-section" aria-label="Books">
            <div class="books-grid" id="booksGrid">
                <!-- Cards will be rendered by JS for correctness and accessibility -->
            </div>
        </section>
    </div>
</main>

<!-- Modal -->
<div id="bookModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-content" role="document" aria-labelledby="modalTitle">
        <div class="modal-inner">
            <div class="modal-book-cover" aria-hidden="true">
                <div class="book-cover-content">
                    <div class="book-initials" id="modalInitials">GR</div>
                </div>
            </div>
            <div class="modal-details">
                <div class="modal-header">
                    <div>
                        <h2 id="modalTitle" class="modal-title">Title</h2>
                        <p class="modal-author">by Radhe W. • <span id="modalYear">2024</span></p>
                    </div>
                    <button class="close-button" onclick="closeModal()" aria-label="Close dialog">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>

                <div class="book-meta">
                    <span><strong>Genre:</strong> <span id="modalGenre">—</span></span>
                    <span><strong>Pages:</strong> <span id="modalPages">—</span></span>
                    <div class="book-rating"><svg class="star" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg><span id="modalRating">—</span></div>
                </div>

                <p class="book-description" id="modalDescription">Description</p>

                <div class="book-actions">
                    <a id="amazonLink" class="btn btn-primary" target="_blank" rel="noopener">Buy on Amazon</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Data provided by you — kept as plain object for simplicity
    const books = {
        book1: {
            title: "The Girl Who Collected Raindrops",
            initials: "GR",
            year: "2025",
            genre: "The Girl Who Collected Raindrops",
            pages: "—",
            rating: "4.8",
            description: "Dive into Elira’s world today and discover why the value of life is not in what we own, but in what we live.",
            amazonLink: "https://www.amazon.com/Girl-Who-Collected-Raindrops-Allegorical-ebook/dp/B0FR2TF69R/ref=sr_1_3?dib=eyJ2IjoiMSJ9.FeDaoAGuNZONyfz-msmQ7fIxiqcxT376y2cjD7K5_edTwG8b-L9UsHnCd2zHEZ8q.31QrPLIrRijMJwZMgPAe-yKcpk3RukiokAEpwsftfuc&dib_tag=se&qid=1758085738&refinements=p_27%3ARadhe+W.&s=digital-text&sr=1-3&text=Radhe+W."
        },
        book2: {
            title: "The Man Who Sold Shadows",
            initials: "MS",
            year: "2023",
            genre: "The Man Who Sold Shadows",
            pages: "—",
            rating: "4.7",
            description: "Discover the haunting tale of the man who sold his shadow — and what he had to sacrifice to get it back.",
            amazonLink: "https://www.amazon.com/Man-Who-Sold-Shadows-ebook/dp/B0FQZNF8XY/ref=sr_1_1?crid=4V5QJ5WS239G&dib=eyJ2IjoiMSJ9.r938DCeNMbyH4tX0CQMx7Bf8FCBQO0xg3pscto6fM8TS4URRlL0IwIhl6IKiZJDKUFjsq-8q_NUL8fKSmriwAFJciDVVkL05AYejuaUyRe0i38VeKrCnR3TTER1Obzc9_NSc-9aAbPJrhmzkT7NyeMVffC8wX8ntrRhxVLJmj_Xzho5VNrpxeywf7V9mgoCqHlvBDZeOlQJlrT5_giDU36nzBgwudbRAwWEbqVd7PiM.J95Wo6VkpUmnYRG-4Nw9rdbClveouuAIhn0WGCzNuJA&dib_tag=se&keywords=The+Man+Who+Sold+Shadows&qid=1758085691&sprefix=%2Caps%2C1121&sr=8-1"
        },
        book3: {
            title: "The Woman Who Lived Backwards",
            initials: "WB",
            year: "2022",
            genre: "The Woman Who Lived Backwards",
            pages: "—",
            rating: "4.9",
            description: "The Woman Who Lived Backwards is more than a novel—it’s a meditation on life itself. It will make you weep, reflect, and finally, breathe a little deeper.",
            amazonLink: "https://www.amazon.com/Woman-Who-Lived-Backwards-ebook/dp/B0FR37CC53/ref=sr_1_4?dib=eyJ2IjoiMSJ9.FeDaoAGuNZONyfz-msmQ7fIxiqcxT376y2cjD7K5_edTwG8b-L9UsHnCd2zHEZ8q.31QrPLIrRijMJwZMgPAe-yKcpk3RukiokAEpwsftfuc&dib_tag=se&qid=1758085738&refinements=p_27%3ARadhe+W.&s=digital-text&sr=1-4&text=Radhe+W."
        },
        book4: {
            title: "The Boy Who Spoke in Echoes",
            initials: "BE",
            year: "2021",
            genre: "The Boy Who Spoke in Echoes",
            pages: "—",
            rating: "4.6",
            description: "The Boy Who Spoke in Echoes is a surreal, allegorical short novel about identity, belonging, and the courage to claim your own voice. Strange and poetic, haunting and hopeful, it is the kind of fable that lingers in your heart long after you’ve closed the last page.",
            amazonLink: "https://www.amazon.com/Boy-Spoke-Echoes-coming-age-ebook/dp/B0FR4L12B3/ref=sr_1_1?dib=eyJ2IjoiMSJ9.FeDaoAGuNZONyfz-msmQ7fIxiqcxT376y2cjD7K5_edTwG8b-L9UsHnCd2zHEZ8q.31QrPLIrRijMJwZMgPAe-yKcpk3RukiokAEpwsftfuc&dib_tag=se&qid=1758085738&refinements=p_27%3ARadhe+W.&s=digital-text&sr=1-1&text=Radhe+W."
        }
    };

    // Render cards into the grid (keeps HTML small and avoids mismatch issues)
    function renderBooksGrid() {
        const grid = document.getElementById('booksGrid');
        grid.innerHTML = '';
        for (const id of Object.keys(books)) {
            const b = books[id];
            const card = document.createElement('article');
            card.className = 'book-card';
            card.tabIndex = 0;
            card.setAttribute('role', 'button');
            card.setAttribute('aria-label', `${b.title} — ${b.genre}`);
            card.dataset.bookId = id;

            card.innerHTML = `
                <div class="book-cover" aria-hidden="true">
                    <div class="book-cover-content">
                        <div class="book-initials" style="background:rgba(var(--primary-rgb),0.12);">${b.initials}</div>
                        <h3 class="book-title">${b.title}</h3>
                        <p class="book-year">${b.year}</p>
                    </div>
                </div>
                <div class="book-info">
                    <p class="book-genre">${b.genre}</p>
                    <div class="book-rating"><svg class="star" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg><span class="rating-text">${b.rating}</span></div>
                </div>
            `;

            // click and keyboard handlers
            card.addEventListener('click', () => openModal(id));
            card.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openModal(id); } });

            grid.appendChild(card);
        }
    }

    // Modal functions
    function openModal(bookId) {
        const book = books[bookId];
        if (!book) return;
        const modal = document.getElementById('bookModal');

        document.getElementById('modalTitle').textContent = book.title;
        document.getElementById('modalInitials').textContent = book.initials;
        document.getElementById('modalYear').textContent = book.year;
        document.getElementById('modalGenre').textContent = book.genre;
        document.getElementById('modalPages').textContent = book.pages || '—';
        document.getElementById('modalRating').textContent = book.rating || '—';
        document.getElementById('modalDescription').textContent = book.description || '';
        document.getElementById('amazonLink').href = book.amazonLink || '#';

        modal.classList.add('active');
        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';

        // focus management
        const closeBtn = modal.querySelector('.close-button');
        if (closeBtn) closeBtn.focus();

        // reflect in URL (shallow)
        try { history.replaceState(null, '', '#' + bookId); } catch(e) {}
    }

    function closeModal() {
        const modal = document.getElementById('bookModal');
        modal.classList.remove('active');
        modal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
        try { history.replaceState(null, '', window.location.pathname); } catch(e) {}
    }

    // Theme toggle
    function toggleTheme() {
        const body = document.body;
        const current = body.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
        const next = current === 'dark' ? 'light' : 'dark';
        body.setAttribute('data-theme', next);
        localStorage.setItem('theme', next);

        document.querySelectorAll('.theme-icon-light, .theme-icon-dark').forEach(el => el.style.display = '');
        if (next === 'dark') {
            document.querySelector('.theme-icon-light').style.display = 'none';
        } else {
            document.querySelector('.theme-icon-dark').style.display = 'none';
        }
    }

    function initializeTheme() {
        const saved = localStorage.getItem('theme') || 'light';
        document.body.setAttribute('data-theme', saved);
        if (saved === 'dark') document.querySelector('.theme-icon-light').style.display = 'none';
        else document.querySelector('.theme-icon-dark').style.display = 'none';
    }

    function updateActiveNavLink() {
        const path = window.location.pathname.split('/').pop() || 'index.html';
        document.querySelectorAll('.nav-link').forEach(a => a.classList.remove('active'));
        document.querySelectorAll('.nav-link').forEach(a => {
            const href = a.getAttribute('href');
            if (href === path || (href === 'books.html' && path === 'books.html')) a.classList.add('active');
        });
    }

    // Close modal on Escape and click outside
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeModal(); });
    document.addEventListener('click', (e) => {
        const modal = document.getElementById('bookModal');
        if (e.target === modal) closeModal();
    });

    // Initialize on DOMContentLoaded
    document.addEventListener('DOMContentLoaded', () => {
        initializeTheme();
        renderBooksGrid();
        updateActiveNavLink();

        // open modal if hash present (e.g. books.html#book1)
        const hash = (window.location.hash || '').replace('#','');
        if (hash && books[hash]) {
            // small timeout to ensure render
            setTimeout(() => openModal(hash), 50);
        }
    });
</script>
</body>
</html>
